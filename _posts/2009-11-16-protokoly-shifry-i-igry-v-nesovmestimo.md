---
id: 1076
title: Протоколы, шифры и игры в несовместимость
date: 2009-11-16T05:51:00+00:00
author: sapran
layout: post
guid: http://styran.com/2009/11/16/%d0%bf%d1%80%d0%be%d1%82%d0%be%d0%ba%d0%be%d0%bb%d1%8b-%d1%88%d0%b8%d1%84%d1%80%d1%8b-%d0%b8-%d0%b8%d0%b3%d1%80%d1%8b-%d0%b2-%d0%bd%d0%b5%d1%81%d0%be%d0%b2%d0%bc%d0%b5%d1%81%d1%82%d0%b8%d0%bc%d0%be/
permalink: /2009/11/%d0%bf%d1%80%d0%be%d1%82%d0%be%d0%ba%d0%be%d0%bb%d1%8b-%d1%88%d0%b8%d1%84%d1%80%d1%8b-%d0%b8-%d0%b8%d0%b3%d1%80%d1%8b-%d0%b2-%d0%bd%d0%b5%d1%81%d0%be%d0%b2%d0%bc%d0%b5%d1%81%d1%82%d0%b8%d0%bc%d0%be/
blogger_blog:
  - securegalaxy.blogspot.com
blogger_author:
  - Vlad Styran
blogger_permalink:
  - /2009/11/blog-post.html
blogger_internal:
  - /feeds/3388835630659782197/posts/default/220487827720608911
shorturl:
  - http://tinyurl.com/o6f5bkw
tags:
  - dumb asses
  - microsoft
  - закон
  - протоколы
  - сети
  - стандарты
---
<span style="font-family: Georgia, 'Sans Serif', serif;">Надеюсь, все согласятся, что </span>**<span style="font-family: Georgia, 'Sans Serif', serif;">протоколы </span>**<span style="font-family: Georgia, 'Sans Serif', serif;">&#8212; это хорошо. Допустим, две группы разработчиков независимо друг от друга приступают к созданию клиента и сервера. Их шансы написать что-то путное резко возрастают, если они заблаговременно оговорят протокол взаимодействия между их &#171;подопечными&#187;.</span>  
<span style="font-family: Georgia, 'Sans Serif', serif;"><br /></span>  <span style="font-family: Georgia, 'Sans Serif', serif;"></span>  
<span style="font-family: Georgia, 'Sans Serif', serif;">Протоколы преимущественно&nbsp;делятся на </span>**<span style="font-family: Georgia, 'Sans Serif', serif;">открытые </span>**<span style="font-family: Georgia, 'Sans Serif', serif;">и </span>**<span style="font-family: Georgia, 'Sans Serif', serif;">закрытые</span>**<span style="font-family: Georgia, 'Sans Serif', serif;">. Закрытые протоколы создаются вендорами для использования в своих продуктах: ПО и оборудовании. Они зачастую защищены патентами, являются т.н. коммерческой тайной и называются </span>**<span style="font-family: Georgia, 'Sans Serif', serif;">проприетарными</span>**<span style="font-family: Georgia, 'Sans Serif', serif;">. Желающие ими воспользоваться могут сделать это при помощи предоставляемых вендором </span>**<span style="font-family: Georgia, 'Sans Serif', serif;">интерфейсов </span>**<span style="font-family: Georgia, 'Sans Serif', serif;">и </span>**<span style="font-family: Georgia, 'Sans Serif', serif;">разделяемых библиотек </span>**<span style="font-family: Georgia, 'Sans Serif', serif;">и должны за это заплатить. Обычно это длится не долго, большинство&nbsp;закрытых протоколов оканчивают свою жизнь всем известными и никому ненужными. Рано или поздно, они &#171;утекают&#187; в Интернет, а так как для их разработки и поддержки доступны ограниченные ресурсы одного-двух вендоров, они очень быстро морально устаревают. Пример такого закрытого&nbsp;протокола: VPN-протокол Microsoft </span>[<span style="font-family: Georgia, 'Sans Serif', serif;">PPTP</span>](http://ru.wikipedia.org/wiki/PPTP) <span style="font-family: Georgia, 'Sans Serif', serif;">(Point-to-point tunnelling protocol AKA Point-to-point toilet paper). Впрочем, существует немало успешных закрытых протоколов, например Skype.</span>  
<span style="font-family: Georgia, 'Sans Serif', serif;"><br /></span>  <span style="font-family: Georgia, 'Sans Serif', serif;"></span>  
<span style="font-family: Georgia, 'Sans Serif', serif;">Открытые протоколы, напротив, разрабатываются сообществами вендоров, авторитетными институтами стандартизации или вообще возникают стихийно. Последнее случается, когда в ответ на потребности рынка рождается коллективно&nbsp;разработанный&nbsp;протокол, который становится стандартом де факто. Примеры открытых протоколов: IPSec, SMTP, HTTP, H323.</span>  
<span style="font-family: Georgia, 'Sans Serif', serif;"><br /></span>  
<span style="font-family: Georgia, 'Sans Serif', serif;">Авторитетные международные институты и отдельные&nbsp;государства </span>**<span style="font-family: Georgia, 'Sans Serif', serif;">стандартизируют </span>**<span style="font-family: Georgia, 'Sans Serif', serif;">протоколы с целью нормализации взаимодействия производителей в различных отраслях.&nbsp;Цели у стандартов разные и зависят от того, кто эти стандарты создает и в каких сферах они применяются. В </span>**<span style="font-family: Georgia, 'Sans Serif', serif;">криптографии</span>**<span style="font-family: Georgia, 'Sans Serif', serif;">, например, стандарты устанавливают государства. Выглядит это как указание шифровать данные&nbsp;определенного&nbsp;уровня секретности при помощи алгоритмов шифрования определенного (якобы соответствующего) уровня стойкости. Цели таких рекомендаций не прозрачны. С одной стороны, следуя стандарту, бизнес и граждане надеются получить от государства гарантию защищенности шифруемых данных. С другой стороны, протоколы рекомендуемые для шифрования коммерческих секретов зачастую значительно слабее протоколов используемых для шифрования государственной тайны. Лично меня это наталкивает на неприятные мысли: не хочет ли государство таким образом запретить использовать такие шифры, на взлом которых у него не хватает средств?</span>  
<span style="font-family: Georgia, 'Sans Serif', serif;"><span style="font-family: 'Sans Serif';"><span style="font-family: Georgia, 'Sans Serif', serif;"><br /></span></span></span>  
<span style="font-family: Georgia, 'Sans Serif', serif;"><span style="font-family: 'Sans Serif';"><span style="font-family: Georgia, 'Sans Serif', serif;">Отличным примером служит история возникновения протокола </span><a href="http://en.wikipedia.org/wiki/Data_Encryption_Standard"><span style="font-family: Georgia, 'Sans Serif', serif;">DES</span></a><span style="font-family: Georgia, 'Sans Serif', serif;">. Первоначальная предложенная длина ключа шифра </span><a href="http://en.wikipedia.org/wiki/Lucifer_(cipher)"><span style="font-family: Georgia, 'Sans Serif', serif;">Lucifer</span></a><span style="font-family: Georgia, 'Sans Serif', serif;"> составляла 128 бит, но в стандарт вошел его вариант с 64-битным ключом, причем только 56 бит использовались собственно для шифрования, а остальные 8 &#8212; для служебных целей протокола. В результате DES очень быстро устарел и был на скорую руку заменен на 3DES (тройной DES), а US Deparment of Defence срочно объявил конкурс на лучшую долговременную замену. В результате конкурса был выбран шифр Rijndael, а стандарт получил название </span><a href="http://en.wikipedia.org/wiki/Advanced_Encryption_Standard"><span style="font-family: Georgia, 'Sans Serif', serif;">AES</span></a><span style="font-family: Georgia, 'Sans Serif', serif;">&nbsp;(Advanced Encrytion Standard) и успешно используется по сей день.</span></span></span>  
<span style="font-family: Georgia, 'Sans Serif', serif;"><span style="font-family: 'Sans Serif';"><span style="font-family: Georgia, 'Sans Serif', serif;"><br /></span></span></span>  
<span style="font-family: Georgia, 'Sans Serif', serif;"><span style="font-family: 'Sans Serif';"><span style="font-family: Georgia, 'Sans Serif', serif;">Существуют страны, запрещающие использовать сильную (а иногда и любую) криптографию в частных целях. Зачастую это объясняется их нежеланием допустить использование шифрования в незаконных целях. Такое объяснение нелепо, так как сфера легального применения криптографии значительно шире криминальных интересов. Аналогично можно запретить автотранспорт из-за того, что грабители банков нередко покидают место преступления на машине.</span></span></span>  
<span style="font-family: Georgia, 'Sans Serif', serif;"><span style="font-family: 'Sans Serif';"><span style="font-family: Georgia, 'Sans Serif', serif;"><span style="font-family: 'Sans Serif';"><span style="font-family: Georgia, 'Sans Serif', serif;"><br /></span></span></span></span></span>  
<span style="font-family: Georgia, 'Sans Serif', serif;"><span style="font-family: 'Sans Serif';"><span style="font-family: Georgia, 'Sans Serif', serif;"><span style="font-family: 'Sans Serif';"><span style="font-family: Georgia, 'Sans Serif', serif;">Вернемся к протоколам. Казалось бы, открытые протоколы явно выигрывают перед закрытыми. Зачастую так оно и есть, но к сожалению есть одно &#171;но&#187;. Основным недостатком открытого протокола является возможность его изменения вендором для собственных нужд. Так было с Kerberos и LDAP, адаптированных Майкрософт для &#171;более эффективной&#187; реализации Active Directory. С уверенностью можно утверждать одно: всегда в явном проигрыше закрытые проприетарные протоколы. Недобросовестные вендоры нередко скрывают детали реализации своих протоколов и используют их т.н. </span><b><span style="font-family: Georgia, 'Sans Serif', serif;">незадокументированные возможности</span></b><span style="font-family: Georgia, 'Sans Serif', serif;"> в собственных решениях, тем временем скрывая эти возможности от посторонних. В результате о конкурентной среде и речи быть не может. За примером далеко ходить не нужно: вспомните старую хохму о том, что </span><a href="http://www.samba.org/"><span style="font-family: Georgia, 'Sans Serif', serif;">Samba</span></a><span style="font-family: Georgia, 'Sans Serif', serif;">&nbsp;никогда не будет нормально работать с Windows, потому что программисты Samba искренне верят в то, что программисты Майкрософт пишут в документации.</span></span></span></span></span>  
<span style="font-family: Georgia, 'Sans Serif', serif;"><span style="font-family: 'Sans Serif';"><span style="font-family: Georgia, 'Sans Serif', serif;"><span style="font-family: 'Sans Serif';"><span style="font-family: Georgia, 'Sans Serif', serif;"><span style="font-family: 'Sans Serif';"><span style="font-family: Georgia, 'Sans Serif', serif;"><br /></span></span></span></span></span></span></span>  
<span style="font-family: Georgia, 'Sans Serif', serif;"><span style="font-family: 'Sans Serif';"><span style="font-family: Georgia, 'Sans Serif', serif;"><span style="font-family: 'Sans Serif';"><span style="font-family: Georgia, 'Sans Serif', serif;"><span style="font-family: 'Sans Serif';"><span style="font-family: Georgia, 'Sans Serif', serif;">Подобные интриги я обобщенно называю </span><b><span style="font-family: Georgia, 'Sans Serif', serif;">играми в несовместимость</span></b><span style="font-family: Georgia, 'Sans Serif', serif;">. Эта тактика позволяет софтверным гигантам сдерживать конкурентов и не допускать экспансии открытого ПО в сферу их интересов. Например, именно игры в несовместимость все еще удерживают Outlook на пьедестале лучшего клиентского ПО для &nbsp;MS Exchange: протокол </span><a href="http://ru.wikipedia.org/wiki/MAPI"><span style="font-family: Georgia, 'Sans Serif', serif;">MAPI</span></a><span style="font-family: Georgia, 'Sans Serif', serif;">, позволяющий раскрыть весь спектр функций Exchange,&nbsp;является закрытым и проприетарным.</span></span></span></span></span></span></span>

<div class="addtoany_share_save_container addtoany_content_bottom">
  <div class="a2a_kit a2a_kit_size_32 addtoany_list a2a_target" id="wpa2a_65">
    <a class="a2a_button_facebook" href="http://www.addtoany.com/add_to/facebook?linkurl=https%3A%2F%2Fblog.styran.com%2F2009%2F11%2F%25d0%25bf%25d1%2580%25d0%25be%25d1%2582%25d0%25be%25d0%25ba%25d0%25be%25d0%25bb%25d1%258b-%25d1%2588%25d0%25b8%25d1%2584%25d1%2580%25d1%258b-%25d0%25b8-%25d0%25b8%25d0%25b3%25d1%2580%25d1%258b-%25d0%25b2-%25d0%25bd%25d0%25b5%25d1%2581%25d0%25be%25d0%25b2%25d0%25bc%25d0%25b5%25d1%2581%25d1%2582%25d0%25b8%25d0%25bc%25d0%25be%2F&linkname=%D0%9F%D1%80%D0%BE%D1%82%D0%BE%D0%BA%D0%BE%D0%BB%D1%8B%2C%20%D1%88%D0%B8%D1%84%D1%80%D1%8B%20%D0%B8%20%D0%B8%D0%B3%D1%80%D1%8B%20%D0%B2%20%D0%BD%D0%B5%D1%81%D0%BE%D0%B2%D0%BC%D0%B5%D1%81%D1%82%D0%B8%D0%BC%D0%BE%D1%81%D1%82%D1%8C" title="Facebook" rel="nofollow" target="_blank"></a><a class="a2a_button_twitter" href="http://www.addtoany.com/add_to/twitter?linkurl=https%3A%2F%2Fblog.styran.com%2F2009%2F11%2F%25d0%25bf%25d1%2580%25d0%25be%25d1%2582%25d0%25be%25d0%25ba%25d0%25be%25d0%25bb%25d1%258b-%25d1%2588%25d0%25b8%25d1%2584%25d1%2580%25d1%258b-%25d0%25b8-%25d0%25b8%25d0%25b3%25d1%2580%25d1%258b-%25d0%25b2-%25d0%25bd%25d0%25b5%25d1%2581%25d0%25be%25d0%25b2%25d0%25bc%25d0%25b5%25d1%2581%25d1%2582%25d0%25b8%25d0%25bc%25d0%25be%2F&linkname=%D0%9F%D1%80%D0%BE%D1%82%D0%BE%D0%BA%D0%BE%D0%BB%D1%8B%2C%20%D1%88%D0%B8%D1%84%D1%80%D1%8B%20%D0%B8%20%D0%B8%D0%B3%D1%80%D1%8B%20%D0%B2%20%D0%BD%D0%B5%D1%81%D0%BE%D0%B2%D0%BC%D0%B5%D1%81%D1%82%D0%B8%D0%BC%D0%BE%D1%81%D1%82%D1%8C" title="Twitter" rel="nofollow" target="_blank"></a><a class="a2a_button_google_plus" href="http://www.addtoany.com/add_to/google_plus?linkurl=https%3A%2F%2Fblog.styran.com%2F2009%2F11%2F%25d0%25bf%25d1%2580%25d0%25be%25d1%2582%25d0%25be%25d0%25ba%25d0%25be%25d0%25bb%25d1%258b-%25d1%2588%25d0%25b8%25d1%2584%25d1%2580%25d1%258b-%25d0%25b8-%25d0%25b8%25d0%25b3%25d1%2580%25d1%258b-%25d0%25b2-%25d0%25bd%25d0%25b5%25d1%2581%25d0%25be%25d0%25b2%25d0%25bc%25d0%25b5%25d1%2581%25d1%2582%25d0%25b8%25d0%25bc%25d0%25be%2F&linkname=%D0%9F%D1%80%D0%BE%D1%82%D0%BE%D0%BA%D0%BE%D0%BB%D1%8B%2C%20%D1%88%D0%B8%D1%84%D1%80%D1%8B%20%D0%B8%20%D0%B8%D0%B3%D1%80%D1%8B%20%D0%B2%20%D0%BD%D0%B5%D1%81%D0%BE%D0%B2%D0%BC%D0%B5%D1%81%D1%82%D0%B8%D0%BC%D0%BE%D1%81%D1%82%D1%8C" title="Google+" rel="nofollow" target="_blank"></a><a class="a2a_button_linkedin" href="http://www.addtoany.com/add_to/linkedin?linkurl=https%3A%2F%2Fblog.styran.com%2F2009%2F11%2F%25d0%25bf%25d1%2580%25d0%25be%25d1%2582%25d0%25be%25d0%25ba%25d0%25be%25d0%25bb%25d1%258b-%25d1%2588%25d0%25b8%25d1%2584%25d1%2580%25d1%258b-%25d0%25b8-%25d0%25b8%25d0%25b3%25d1%2580%25d1%258b-%25d0%25b2-%25d0%25bd%25d0%25b5%25d1%2581%25d0%25be%25d0%25b2%25d0%25bc%25d0%25b5%25d1%2581%25d1%2582%25d0%25b8%25d0%25bc%25d0%25be%2F&linkname=%D0%9F%D1%80%D0%BE%D1%82%D0%BE%D0%BA%D0%BE%D0%BB%D1%8B%2C%20%D1%88%D0%B8%D1%84%D1%80%D1%8B%20%D0%B8%20%D0%B8%D0%B3%D1%80%D1%8B%20%D0%B2%20%D0%BD%D0%B5%D1%81%D0%BE%D0%B2%D0%BC%D0%B5%D1%81%D1%82%D0%B8%D0%BC%D0%BE%D1%81%D1%82%D1%8C" title="LinkedIn" rel="nofollow" target="_blank"></a><a class="a2a_dd addtoany_share_save" href="https://www.addtoany.com/share"></a>
  </div>
</div>